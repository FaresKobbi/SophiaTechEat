<div class="main-container">

  <div class="left-panel">

    <div class="add-box">
      <h4>Ajouter un horaire</h4>

      <div class="form-group">
        <label>Jour</label>
        <select [(ngModel)]="newHour.day">
          <option *ngFor="let d of daysOfWeek" [value]="d">{{ d }}</option>
        </select>
      </div>

      <div class="form-group">
        <label>Plage</label>
        <div class="time-inputs">
          <input type="time" [(ngModel)]="newHour.openingTime">
          <span>√†</span>
          <input type="time" [(ngModel)]="newHour.closingTime">
        </div>
      </div>

      <button class="btn-add" (click)="addHour()">+ Ajouter</button>
    </div>

    <div class="list-container">
      <app-item-list
        [title]="'Plages D√©finies'"
        [items]="formattedHoursList"
        [displayKey]="'displayLabel'"
        (itemClicked)="onHourSelect($event)">
      </app-item-list>
    </div>

  </div>

  <div class="right-panel">

    <div *ngIf="!selectedHour" class="empty-state">
      <div class="empty-icon">‚¨ÖÔ∏è</div>
      <p>S√©lectionnez une plage horaire √† gauche pour voir et modifier les cr√©neaux (slots).</p>
    </div>

    <div *ngIf="selectedHour" class="details-container">

      <div class="details-header">
        <div class="header-info">
          <h2>{{ selectedHour.day }}</h2>
          <span class="badge">{{ selectedHour.openingTime }} - {{ selectedHour.closingTime }}</span>
        </div>
        <button class="btn-delete" (click)="deleteSelectedHour()">
          üóëÔ∏è Supprimer cette plage
        </button>
      </div>

      <hr class="divider">

      <h4>Gestion des cr√©neaux (30 min)</h4>
      <p class="subtitle">Modifiez la capacit√© pour ouvrir un cr√©neau √† la r√©servation.</p>

      <div class="slots-grid">
        <div *ngFor="let slot of selectedHour.slots"
             class="slot-card"
             [class.open]="slot.capacity > 0">

          <div class="slot-time">
            {{ slot.startTime }} <span class="arrow">‚ûù</span> {{ slot.endTime }}
          </div>

          <div class="capacity-control">
            <label>Capacit√©</label>
            <input type="number" min="0"
                   [(ngModel)]="slot.capacity"
                   (change)="updateCapacity(slot)">
          </div>

          <div class="status-indicator">
            {{ slot.capacity > 0 ? 'üü¢ OUVERT' : 'üî¥ FERM√â' }}
          </div>

        </div>
      </div>

    </div>
  </div>

</div>
