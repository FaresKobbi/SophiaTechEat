<div class="main-container">


  <div class="left-panel">
    <div class="add-box">
      <h4>Add Schedule</h4>
      <div class="form-group">
        <label>Day</label>
        <select [(ngModel)]="newHour.day">
          <option *ngFor="let d of daysOfWeek" [value]="d">{{ d }}</option>
        </select>
      </div>
      <div class="form-group">
        <label>Time Range</label>
        <div class="time-inputs">
          <input type="time" [(ngModel)]="newHour.openingTime">
          <span>to</span>
          <input type="time" [(ngModel)]="newHour.closingTime">
        </div>
      </div>
      <button class="btn-add" (click)="addHour()">+ Add</button>
    </div>

    <div class="list-container">
      <app-item-list
        [title]="'Scheduled Hours'"
        [items]="formattedHoursList"
        [displayKey]="'displayLabel'"
        (itemClicked)="onHourSelect($event)">
      </app-item-list>
    </div>
    <button class="btn back" routerLink="/manager/dashboard/{{ restaurantId }}">
      ‚¨Ö BACK
    </button>
  </div>


  <div class="right-panel">
    <div *ngIf="!selectedHour" class="empty-state">
      <div class="empty-icon">‚¨ÖÔ∏è</div>
      <p>Select a schedule on the left to manage time slots.</p>
    </div>

    <div *ngIf="selectedHour" class="details-container">
      <div class="details-header">
        <div class="header-info">
          <h2>{{ selectedHour.day }}</h2>
          <span class="badge">{{ selectedHour.startDisplay }} - {{ selectedHour.endDisplay }}</span>
        </div>
        <button class="btn-delete" (click)="deleteSelectedHour()">
          üóëÔ∏è Delete this schedule
        </button>
      </div>

      <hr class="divider">
      <h4>Slot Management (30 min)</h4>
      <p class="subtitle">Set capacity to open a slot for booking.</p>

      <div class="slots-grid">
        <div *ngFor="let slot of selectedHour.slots"
             class="slot-card"
             [class.open]="slot.capacity > 0">

          <div class="slot-time">
            {{ getSlotDisplay(slot.startTime) }} <span class="arrow">‚ûù</span> {{ getSlotDisplay(slot.endTime) }}
          </div>

          <div class="capacity-control">
            <label>Capacity</label>
            <input type="number" min="0"
                   [(ngModel)]="slot.capacity"
                   (change)="updateCapacity(slot)">
          </div>

          <div class="status-indicator">
            {{ slot.capacity > 0 ? 'üü¢ OPEN' : 'üî¥ CLOSED' }}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
