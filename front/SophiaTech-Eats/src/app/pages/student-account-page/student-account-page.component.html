<div class="student-home-page-body">

  <app-student-home-page-nav [studentName]="studentName" [studentSurname]="studentSurname"></app-student-home-page-nav>

  <main class="main-account-container">
    <div class="info-boxes-row">

      <app-student-info-box title="Personal Info">
        <p><strong>John Doe</strong></p>
        <p>john.doe&#64;gmail.com</p>
        <p>+33 6 12 34 56 78</p>
      </app-student-info-box>

      <app-student-info-box title="Bank Info">
        <div style="margin-top: 20px;">
          <p>VISA ending in **** 4242</p>
          <p class="faded">Expires 12/28</p>
        </div>
      </app-student-info-box>

      <div class="locations-container">
        <app-item-list 
        [title]="'Delivery Locations'" 
        [items]="locations" 
        [displayKey]="locationDisplayKey"
        (itemClicked)="onLocationSelect($event)">
        </app-item-list>
        <div class="action-buttons-row">
          <button class="grey-action-btn" (click)="deleteSelectedLocation()">
            Delete Delivery Location
          </button>
          <button class="grey-action-btn" (click)="openAddLocationModal()">
            Add Delivery Location
          </button>
        </div>
      </div>

    </div>

  </main>


  <div class="modal-overlay" *ngIf="isModalOpen">
    <div class="modal-content">
      <h2>Add New Location</h2>
      
      <form (ngSubmit)="submitNewLocation()">
        <div class="form-group">
          <label>Name (e.g. Home, Dorm):</label>
          <input type="text" [(ngModel)]="newLocationData.name" name="locName" required>
        </div>

        <div class="form-group">
          <label>Address:</label>
          <input type="text" [(ngModel)]="newLocationData.address" name="locAddress" required>
        </div>

        <div class="form-group">
          <label>City:</label>
          <input type="text" [(ngModel)]="newLocationData.city" name="locCity" required>
        </div>

        <div class="form-group">
          <label>Zip Code:</label>
          <input type="text" [(ngModel)]="newLocationData.zipCode" name="locZip" required>
        </div>

        <div class="modal-actions">
          <button type="button" class="cancel-btn" (click)="closeAddLocationModal()">Cancel</button>
          <button type="submit" class="submit-btn">Submit</button>
        </div>
      </form>
    </div>
  </div>

</div>