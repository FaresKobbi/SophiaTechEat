<div class="checkout-container">
  <h2>Checkout</h2>

  <div class="cart-summary">
    <h3>Your Order</h3>
    <div *ngFor="let item of cartItems" class="cart-item">
      <span>{{ item.quantity }}x {{ item.dish.name }}</span>
      <span>{{ item.totalPrice | currency:'EUR' }}</span>
    </div>
    <div class="total">
      <strong>Total: {{ totalAmount | currency:'EUR' }}</strong>
    </div>
  </div>

  <div class="location-selection">
    <h3>Select Delivery Location</h3>
    <select [(ngModel)]="selectedLocation">
      <option [ngValue]="null">-- Select a Location --</option>
      <option *ngFor="let loc of deliveryLocations" [ngValue]="loc">
        {{ loc.name }} ({{ loc.address }}, {{ loc.city }})
      </option>
    </select>
  </div>

  <div class="slot-selection">
    <h3>Select Pickup Time</h3>
    <select [(ngModel)]="selectedSlot">
      <option [ngValue]="null">-- Select a Time Slot --</option>
      <option *ngFor="let s of availableSlots" [ngValue]="s">
        {{ s.day }} {{ s.slot.startTime }} - {{ s.slot.endTime }} ({{ s.slot.capacity }} left)
      </option>
    </select>
  </div>

  <div class="payment-selection">
    <h3>Payment Method</h3>

    <div class="payment-options">
      <label class="payment-option">
        <input type="radio" name="paymentMethod" value="EXTERNAL" [(ngModel)]="paymentMethod">
        <span>External Bank Card</span>
      </label>

      <label class="payment-option">
        <input type="radio" name="paymentMethod" value="INTERNAL" [(ngModel)]="paymentMethod">
        <span>Internal Student Balance</span>
      </label>
    </div>
  </div>

  <button class="btn-submit" [disabled]="!selectedSlot || !selectedLocation || cartItems.length === 0"
    (click)="placeOrder()">
    PAY & ORDER
  </button>
</div>